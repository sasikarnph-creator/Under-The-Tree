{% extends 'layout.html' %}
{% block content %}
<section class="hero py-5 mb-4">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-7">
        <h1 class="display-6 fw-bold">พบกับนิยายที่ใช่ ในทุกอารมณ์</h1>
        <p class="lead text-muted">คัดสรรนิยายคุณภาพจากผู้แต่งหลากหลายแนว อ่านเพลิน เติมแรงบันดาลใจ</p>
        <div class="mt-3 d-flex gap-2">
          <button class="btn btn-primary btn-lg filter-btn" data-cat="all">ดูทั้งหมด</button>
          <button class="btn btn-outline-secondary btn-lg filter-btn" data-cat="แฟนตาซี">แฟนตาซี</button>
          <button class="btn btn-outline-secondary btn-lg filter-btn" data-cat="โรแมนติก">โรแมนติก</button>
        </div>
      </div>
      <div class="col-md-5 d-none d-md-block text-end">
        <img src="/static/images/product4.svg" alt="books" style="max-width:260px; opacity:0.95">
      </div>
    </div>
  </div>
</section>

<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="h5 mb-0">หนังสือแนะนำ</h2>
    <div>
      <button class="btn btn-sm btn-outline-secondary filter-btn" data-cat="all">ทั้งหมด</button>
      <button class="btn btn-sm btn-outline-secondary filter-btn" data-cat="โรแมนติก">โรแมนติก</button>
      <button class="btn btn-sm btn-outline-secondary filter-btn" data-cat="แฟนตาซี">แฟนตาซี</button>
      <button class="btn btn-sm btn-outline-secondary filter-btn" data-cat="นิยายสืบสวน">นิยายสืบสวน</button>
    </div>
  </div>

  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4" id="products">
    {% for p in products %}
    <div class="col product-card" data-category="{{ p.category }}">
      <div class="card h-100 book-card">
        <div class="row g-0 h-100">
          <div class="col-4">
            <img src="/{{ p.image }}" class="img-fluid rounded-start book-thumb" alt="{{ p.name }}">
          </div>
          <div class="col-8">
            <div class="card-body d-flex flex-column h-100">
              <div>
                <h6 class="card-title mb-1 book-title">{{ p.name }}</h6>
                <div class="small text-muted">{{ p.category }}</div>
              </div>
              <p class="card-text text-muted small mt-2">{{ p.desc }}</p>
                <div class="mt-auto d-flex justify-content-between align-items-center">
                <div class="price text-primary fw-bold">${{ '%.2f'|format(p.price) }}</div>
                <button class="btn btn-sm btn-success add-btn d-flex align-items-center" data-id="{{ p.id }}">
                  <i class="bi bi-cart-plus me-1"></i> เพิ่มลงตะกร้า
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
